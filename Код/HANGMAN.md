```python
import random
import os

# –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ª–æ–≤ –∏–∑ RUS
WORDS_FILE = os.path.join(os.path.dirname(__file__), "RUS.txt")

if not os.path.exists(WORDS_FILE):
    print(f"–û—à–∏–±–∫–∞: —Ñ–∞–π–ª '{WORDS_FILE}' –Ω–µ –Ω–∞–π–¥–µ–Ω.")
    exit(1)

try:
    with open(WORDS_FILE, encoding='cp1251') as f:
        RAW_WORDS = [line.strip() for line in f if line.strip()]
except Exception as e:
    print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞: {e}")
    exit(1)

# –§–∏–ª—å—Ç—Ä—É–µ–º: —Ç–æ–ª—å–∫–æ —Å–ª–æ–≤–∞ –∏–∑ –±—É–∫–≤, –¥–ª–∏–Ω–æ–π –±–æ–ª—å—à–µ 3 –±—É–∫–≤
WORDS = [
    word for word in RAW_WORDS
    if len(word) >= 3 and word.isalpha()
]

if not WORDS:
    print("–û—à–∏–±–∫–∞: –≤ —Ñ–∞–π–ª–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å–ª–æ–≤ (–¥–ª–∏–Ω–∞ >= 3, —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã).")
    exit(1)

print(f"–ó–∞–≥—Ä—É–∂–µ–Ω–æ {len(WORDS)} –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å–ª–æ–≤.")

class Hangman:
    def __init__(self, words_param):
        self.words = words_param
        self.mainloop()

    def _new_game(self):
        self.attempts = 12
        self.selected_word = random.choice(self.words).lower()
        self.guessed_string = "_" * len(self.selected_word)

    def mainloop(self):
        os.system("cls")
        is_running = True
        while is_running:
            self._new_game()
            print("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É –í–∏—Å–µ–ª–∏—Ü–∞!")
            print("–í—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –µ—ë –æ–∫–æ–Ω—á–∞–Ω–∏—è.")
            user_input = input('–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ "exit": \n')
            if user_input.strip().lower() == "exit":
                is_running = False
                break

            while self.attempts > 0:
                if "_" not in self.guessed_string:
                    os.system("cls")
                    print("–ü–æ–±–µ–¥–∞! –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ ‚Äî", self.selected_word)
                    break

                os.system("cls")
                print("–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫:", self.attempts)
                print(self.guessed_string)
                letter = input("–í–≤–µ–¥–∏—Ç–µ –±—É–∫–≤—É: ").lower()

                # –ü—Ä–æ–≤–µ—Ä–∫–∞: –æ–¥–Ω–∞ –±—É–∫–≤–∞
                if len(letter) != 1 or not letter.isalpha() or not ('–∞' <= letter <= '—è' or letter == '—ë'):
                    print("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –æ–¥–Ω—É —Ä—É—Å—Å–∫—É—é –±—É–∫–≤—É!")
                    input("–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å...")
                    continue

                if letter in self.selected_word:
                    new_guessed = ""
                    for i in range(len(self.selected_word)):
                        if self.selected_word[i] == letter:
                            new_guessed += letter
                        else:
                            new_guessed += self.guessed_string[i]
                    self.guessed_string = new_guessed
                else:
                    self.attempts -= 1
            else:
                os.system("cls")
                print("üíÄ –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏! –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ ‚Äî", self.selected_word)
                input("–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å...")

        print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")

if __name__ == "__main__":
    game = Hangman(WORDS)
```


1.–ò–º–ø–æ—Ä—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –º–æ–¥—É–ª–µ–π
```python
import random
import os
```

2.–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–æ–≤–∞—Ä—è —Å–ª–æ–≤
```python
WORDS_FILE = os.path.join(os.path.dirname(__file__), "RUS.txt")
```
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É RUS.txt, –Ω–∞—Ö–æ–¥—è—â–µ–º—É—Å—è –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —á—Ç–æ –∏ —Å–∞–º —Å–∫—Ä–∏–ø—Ç.

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞:
```python
if not os.path.exists(WORDS_FILE):
    print(f"–û—à–∏–±–∫–∞: —Ñ–∞–π–ª '{WORDS_FILE}' –Ω–µ –Ω–∞–π–¥–µ–Ω.")
    exit(1)
```
- –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π.

–ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞:
```python
try:
    with open(WORDS_FILE, encoding='cp1251') as f:
        RAW_WORDS = [line.strip() for line in f if line.strip()]
except Exception as e:
    print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞: {e}")
    exit(1)
```
- –§–∞–π–ª —á–∏—Ç–∞–µ—Ç—Å—è —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π cp1251 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ Windows –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞).
- –£–¥–∞–ª—è—é—Ç—Å—è –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ –ø—Ä–æ–±–µ–ª—ã –ø–æ –∫—Ä–∞—è–º.

–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ª–æ–≤:
```python
WORDS = [
¬† ¬† word for word in RAW_WORDS
¬† ¬† if len(word) >= 3 and word.isalpha()
]
```
- –û—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–ª–æ–≤–∞:
    - –¥–ª–∏–Ω–æ–π **–æ—Ç 3 –±—É–∫–≤ –∏ –±–æ–ª—å—à–µ**,
    - —Å–æ—Å—Ç–æ—è—â–∏–µ **—Ç–æ–ª—å–∫–æ –∏–∑ –±—É–∫–≤** (–±–µ–∑ —Ü–∏—Ñ—Ä, –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∏ —Ç.–ø.).

–ü—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å—Ç—å –ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ —Å–ª–æ–≤–æ:
```python 
if not WORDS:
¬† ¬† print("–û—à–∏–±–∫–∞: –≤ —Ñ–∞–π–ª–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å–ª–æ–≤...")
¬† ¬† exit(1)
```

–í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
```python
print(f"–ó–∞–≥—Ä—É–∂–µ–Ω–æ {len(WORDS)} –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å–ª–æ–≤.")
```

3.–ö–ª–∞—Å—Å `Hangman` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã
–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:
```python
def __init__(self, words_param):
    self.words = words_param
    self.mainloop()
```
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤ –∏ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª.

–ú–µ—Ç–æ–¥ `_new_game()` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–π –∏–≥—Ä—ã:
```python
def _new_game(self):
    self.attempts = 12
    self.selected_word = random.choice(self.words).lower()
    self.guessed_string = "_" * len(self.selected_word)
```
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç:
    - **12 –ø–æ–ø—ã—Ç–æ–∫**,
    - **—Å–ª—É—á–∞–π–Ω–æ–µ —Å–ª–æ–≤–æ** –∏–∑ —Å–ø–∏—Å–∫–∞ (–≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ),
    - **–∑–∞–≥–∞–¥–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É** –≤ –≤–∏–¥–µ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–π (`____`).

–ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –∏–≥—Ä—ã `mainloop()`:
```python
def mainloop(self):
    os.system("cls")
    is_running = True
    while is_running:
        self._new_game()
        print("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É –í–∏—Å–µ–ª–∏—Ü–∞!")
        print("–í—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –µ—ë –æ–∫–æ–Ω—á–∞–Ω–∏—è.")
        user_input = input('–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ "exit": \n')
        if user_input.strip().lower() == "exit":
            is_running = False
            break
```
- –ò–≥—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ, –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–≤–µ–¥—ë—Ç `"exit"` **–¥–æ –Ω–∞—á–∞–ª–∞ —É–≥–∞–¥—ã–≤–∞–Ω–∏—è**.
- –ò–≥—Ä–æ–≤–æ–µ —Å–ª–æ–≤–æ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è **–¥–æ** –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤—ã—Ö–æ–¥ ‚Äî —ç—Ç–æ **–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –ª–æ–≥–∏–∫–∏**, —Ç–∞–∫ –∫–∞–∫ —Å–ª–æ–≤–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –≤—ã—Ö–æ–¥–∏—Ç. –ù–æ —ç—Ç–æ –Ω–µ –ª–æ–º–∞–µ—Ç –∏–≥—Ä—É.

#### –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å:
```python
while self.attempts > 0:
    if "_" not in self.guessed_string:
        os.system("cls")
        print("–ü–æ–±–µ–¥–∞! –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ ‚Äî", self.selected_word)
        break
```
- –ï—Å–ª–∏ –≤ `guessed_string` –Ω–µ—Ç –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–π ‚Äî –∏–≥—Ä–æ–∫ —É–≥–∞–¥–∞–ª —Å–ª–æ–≤–æ ‚Üí –ø–æ–±–µ–¥–∞.

–í—ã–≤–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
```python
os.system("cls")
print("–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫:", self.attempts)
print(self.guessed_string)
letter = input("–í–≤–µ–¥–∏—Ç–µ –±—É–∫–≤—É: ").lower()
```

–í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞:
```python
if len(letter) != 1 or not letter.isalpha() or not ('–∞' <= letter <= '—è' or letter == '—ë'):
    print("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –æ–¥–Ω—É —Ä—É—Å—Å–∫—É—é –±—É–∫–≤—É!")
    input("–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å...")
    continue
```
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:
    - —Ä–æ–≤–Ω–æ **–æ–¥–∏–Ω —Å–∏–º–≤–æ–ª**,
    - **–±—É–∫–≤–∞** (–Ω–µ —Ü–∏—Ñ—Ä–∞),
    - **—Ä—É—Å—Å–∫–∞—è –±—É–∫–≤–∞** (–≤–∫–ª—é—á–∞—è `"—ë"`, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω `–∞-—è`).

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–≥–∞–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
```python
if letter in self.selected_word:
    new_guessed = ""
    for i in range(len(self.selected_word)):
        if self.selected_word[i] == letter:
            new_guessed += letter
        else:
            new_guessed += self.guessed_string[i]
    self.guessed_string = new_guessed
else:
    self.attempts -= 1
```
- –ï—Å–ª–∏ –±—É–∫–≤–∞ –µ—Å—Ç—å –≤ —Å–ª–æ–≤–µ ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è —Å—Ç—Ä–æ–∫–∞, —Ä–∞—Å–∫—Ä—ã–≤–∞—è –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –±—É–∫–≤—ã.
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫.

–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–∏–≥—Ä—ã—à–∞ (`else` –∫ —Ü–∏–∫–ª—É `while`):
```python
else:
    os.system("cls")
    print("üíÄ –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏! –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ ‚Äî", self.selected_word)
    input("–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å...")
```
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –µ—Å–ª–∏ —Ü–∏–∫–ª –∑–∞–≤–µ—Ä—à–∏–ª—Å—è **–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º** (–ø–æ–ø—ã—Ç–∫–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å).

–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã:
```python
print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")
```

4. –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```python
if __name__ == "__main__":
    game = Hangman(WORDS)
```
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ñ–∞–π–ª–∞ –∫–∞–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä –∏–≥—Ä—ã —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º —Å–ª–æ–≤.


RUS.txt:
–§–∞–π–ª –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è 874 —Ä—É—Å—Å–∫–∏—Ö —Å–ª–æ–≤–∞ –≤ –µ–¥. —á –∏–º. –ø –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∏–≥—Ä–µ  